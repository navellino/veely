<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: commonHead('Nuova Assegnazione â€“ Veely')}"></head>
<body class="d-flex flex-column min-vh-100">
<div th:insert="~{fragments/navbar :: mainNavbar}"></div>
<main class="container my-5 flex-fill">
  <nav aria-label="breadcrumb" class="mb-4">
    <ol class="breadcrumb mb-0">
      <li class="breadcrumb-item"><a th:href="@{/}">Home</a></li>
      <li class="breadcrumb-item"><a th:href="@{/fleet/assignments}">Assegnazioni</a></li>
      <li class="breadcrumb-item active" aria-current="page">Nuova</li>
    </ol>
  </nav>

  <form th:object="${assignment}" th:action="@{/fleet/assignments/new}" method="post" enctype="multipart/form-data" class="row g-3">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
    <div class="col-md-4">
      <label class="form-label">Rapporto di lavoro</label>
      <select class="form-select" th:field="*{employment.id}">
        <option th:each="e : ${employments}" th:value="${e.id}" th:text="${e.matricola + ' - ' + e.employee.lastName}"></option>
      </select>
    </div>
    <div class="col-md-4">
      <label class="form-label">Veicolo</label>
      <select class="form-select" th:field="*{vehicle.id}">
        <option th:each="v : ${vehicles}" th:value="${v.id}" th:text="${v.plate}"></option>
      </select>
    </div>
    <div class="col-md-2">
      <label class="form-label">Dal</label>
      <input type="date" class="form-control" th:field="*{startDate}">
    </div>
    <div class="col-md-2">
      <label class="form-label">Al</label>
      <input type="date" class="form-control" th:field="*{endDate}">
    </div>
    <div class="col-md-4">
      <label class="form-label">Documento</label>
      <input type="file" name="file" class="form-control" />
    </div>
    <div class="col-md-3">
      <label class="form-label">Tipo Documento</label>
      <select name="docType" class="form-select">
        <option th:each="dt : ${docTypes}" th:value="${dt}" th:text="${dt.displayName}"></option>
      </select>
    </div>
    <div class="col-md-2">
      <label class="form-label">Rilasciato</label>
      <input type="date" name="issueDate" class="form-control" />
    </div>
    <div class="col-md-2">
      <label class="form-label">Scadenza</label>
      <input type="date" name="expiryDate" class="form-control" />
    </div>
    <div class="col-12">
      <button type="submit" class="btn btn-primary">Salva</button>
    </div>
  </form>
</main>
<div th:insert="~{fragments/footer :: mainFooter}"></div>
</body>
</html>
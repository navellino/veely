<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: commonHead('Corrispondenza â€“ Veely')}"></head>
<body class="d-flex flex-column min-vh-100">
<div th:insert="~{fragments/navbar :: mainNavbar}"></div>
<main class="container my-5 flex-fill">
    <h2 class="fw-semibold mb-3">Corrispondenza</h2>
    <form class="row g-2 mb-4" method="post" th:action="@{/correspondence}">
        <div class="col-auto">
            <select name="tipo" class="form-select" required>
                <option th:each="t : ${types}" th:value="${t}" th:text="${t.label}"></option>
            </select>
        </div>
        <div class="col-auto">
            <input type="text" name="descrizione" class="form-control" placeholder="Oggetto" required />
        </div>
        <div class="col-auto">
            <input type="date" name="data" class="form-control" />
        </div>
        <div class="col-auto">
            <button type="submit" class="btn btn-primary">Protocollo</button>
        </div>
    </form>

    <table class="table table-striped sortable">
        <thead>
        <tr>
            <th>ID</th>
            <th>Protocollo</th>
            <th>Tipo</th>
            <th>Data</th>
            <th>Descrizione</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="c : ${items}">
            <td th:text="${c.id}"></td>
            <td th:text="${@correspondenceService.formatProtocol(c)}"></td>
            <td th:text="${c.tipo.label}"></td>
            <td th:text="${c.data}"></td>
            <td th:text="${c.descrizione}"></td>
        </tr>
        </tbody>
    </table>
</main>
<div th:insert="~{fragments/footer :: mainFooter}"></div>
</body>
</html>